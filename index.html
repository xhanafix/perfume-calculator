<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfume Cost Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-2xl">
        <h1 class="text-3xl font-bold text-center mb-6 text-gray-800">Perfume Cost Calculator</h1>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div>
                <h2 class="text-xl font-semibold mb-4 text-gray-700">Ingredient Costs</h2>
                <div class="space-y-4">
                    <div>
                        <label for="oilQtyPurchased" class="block text-sm font-medium text-gray-700">Perfume Oil Quantity Purchased (ml):</label>
                        <input type="number" id="oilQtyPurchased" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" value="500">
                        <label for="oilCost" class="block text-sm font-medium text-gray-700 mt-2">Perfume Oil Cost ($):</label>
                        <input type="number" id="oilCost" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" value="100">
                    </div>
                    <div>
                        <label for="fixativeQtyPurchased" class="block text-sm font-medium text-gray-700">Fixative Quantity Purchased (ml):</label>
                        <input type="number" id="fixativeQtyPurchased" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" value="100">
                        <label for="fixativeCost" class="block text-sm font-medium text-gray-700 mt-2">Fixative Cost ($):</label>
                        <input type="number" id="fixativeCost" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" value="20">
                    </div>
                    <div>
                        <label for="alcoholQtyPurchased" class="block text-sm font-medium text-gray-700">Alcohol Base Quantity Purchased (ml):</label>
                        <input type="number" id="alcoholQtyPurchased" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" value="1000">
                        <label for="alcoholCost" class="block text-sm font-medium text-gray-700 mt-2">Alcohol Base Cost ($):</label>
                        <input type="number" id="alcoholCost" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" value="50">
                    </div>
                </div>
            </div>

            <div>
                <h2 class="text-xl font-semibold mb-4 text-gray-700">Bottle & Desired Output</h2>
                <div class="space-y-4">
                    <div>
                        <label for="bottleQtyPurchased" class="block text-sm font-medium text-gray-700">Total Bottle Quantity Purchased (units):</label>
                        <input type="number" id="bottleQtyPurchased" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" value="20">
                        <label for="bottleCost" class="block text-sm font-medium text-gray-700 mt-2">Total Bottle Cost ($):</label>
                        <input type="number" id="bottleCost" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" value="30">
                    </div>
                    <div>
                        <label for="desiredFinalQty" class="block text-sm font-medium text-gray-700">Desired Final Perfume Quantity (ml):</label>
                        <input type="number" id="desiredFinalQty" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" value="50">
                    </div>
                </div>
            </div>
        </div>

        <button onclick="calculateCost()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
            Calculate Cost Per Bottle
        </button>

        <div id="results" class="mt-8 p-6 bg-blue-50 border border-blue-200 rounded-lg hidden">
            <h2 class="text-xl font-semibold mb-3 text-blue-800">Calculation Results</h2>
            <p class="text-lg text-blue-700">Cost per ml of Perfume Oil: <span id="unitOilCost" class="font-medium"></span></p>
            <p class="text-lg text-blue-700">Cost per ml of Fixative: <span id="unitFixativeCost" class="font-medium"></span></p>
            <p class="text-lg text-blue-700">Cost per ml of Alcohol Base: <span id="unitAlcoholCost" class="font-medium"></span></p>
            <p class="text-lg text-blue-700">Cost per Empty Bottle: <span id="unitBottleCost" class="font-medium"></span></p>
            <hr class="my-4 border-blue-200">
            <p class="text-lg text-blue-700">Perfume Oil needed per bottle: <span id="oilNeeded" class="font-medium"></span></p>
            <p class="text-lg text-blue-700">Fixative needed per bottle: <span id="fixativeNeeded" class="font-medium"></span></p>
            <p class="text-lg text-blue-700">Alcohol Base needed per bottle: <span id="alcoholNeeded" class="font-medium"></span></p>
            <hr class="my-4 border-blue-200">
            <p class="text-lg text-blue-700">Cost of Perfume Oil per bottle: <span id="oilCostPerBottle" class="font-medium"></span></p>
            <p class="text-lg text-blue-700">Cost of Fixative per bottle: <span id="fixativeCostPerBottle" class="font-medium"></span></p>
            <p class="text-lg text-blue-700">Cost of Alcohol Base per bottle: <span id="alcoholCostPerBottle" class="font-medium"></span></p>
            <hr class="my-4 border-blue-200">
            <p class="text-2xl font-bold text-blue-900">Total Cost Per Filled Bottle: <span id="totalCostPerBottle"></span></p>
        </div>

        <div id="error" class="mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg hidden" role="alert">
            Please fill in all fields with valid positive numbers.
        </div>
    </div>

    <script>
        function calculateCost() {
            // Get input values
            const oilQtyPurchased = parseFloat(document.getElementById('oilQtyPurchased').value);
            const oilCost = parseFloat(document.getElementById('oilCost').value);
            const fixativeQtyPurchased = parseFloat(document.getElementById('fixativeQtyPurchased').value);
            const fixativeCost = parseFloat(document.getElementById('fixativeCost').value);
            const alcoholQtyPurchased = parseFloat(document.getElementById('alcoholQtyPurchased').value);
            const alcoholCost = parseFloat(document.getElementById('alcoholCost').value);
            const bottleQtyPurchased = parseFloat(document.getElementById('bottleQtyPurchased').value);
            const bottleCost = parseFloat(document.getElementById('bottleCost').value);
            const desiredFinalQty = parseFloat(document.getElementById('desiredFinalQty').value);

            // Validate inputs
            if (isNaN(oilQtyPurchased) || isNaN(oilCost) || isNaN(fixativeQtyPurchased) || isNaN(fixativeCost) ||
                isNaN(alcoholQtyPurchased) || isNaN(alcoholCost) || isNaN(bottleQtyPurchased) || isNaN(bottleCost) ||
                isNaN(desiredFinalQty) ||
                oilQtyPurchased <= 0 || oilCost < 0 || fixativeQtyPurchased <= 0 || fixativeCost < 0 ||
                alcoholQtyPurchased <= 0 || alcoholCost < 0 || bottleQtyPurchased <= 0 || bottleCost < 0 ||
                desiredFinalQty <= 0) {
                document.getElementById('error').classList.remove('hidden');
                document.getElementById('results').classList.add('hidden');
                return;
            } else {
                document.getElementById('error').classList.add('hidden');
            }

            // Define ratios
            const perfumeOilRatio = 0.38; // 38%
            const fixativeRatio = 0.02;   // 2%
            const alcoholBaseRatio = 0.60; // 60%

            // Step 1: Calculate the Unit Cost of Each Raw Ingredient
            const unitOilCost = oilCost / oilQtyPurchased;
            const unitFixativeCost = fixativeCost / fixativeQtyPurchased;
            const unitAlcoholCost = alcoholCost / alcoholQtyPurchased;
            const unitBottleCost = bottleCost / bottleQtyPurchased;

            // Step 2: Calculate the Quantity of Each Ingredient Needed for ONE Desired Final Perfume Bottle
            const oilNeeded = desiredFinalQty * perfumeOilRatio;
            const fixativeNeeded = desiredFinalQty * fixativeRatio;
            const alcoholNeeded = desiredFinalQty * alcoholBaseRatio;

            // Step 3: Calculate the Raw Material Cost for ONE Desired Final Perfume Bottle
            const oilCostPerBottle = oilNeeded * unitOilCost;
            const fixativeCostPerBottle = fixativeNeeded * unitFixativeCost;
            const alcoholCostPerBottle = alcoholNeeded * unitAlcoholCost;

            // Step 4: Calculate the Total Cost Per Filled Bottle
            const totalCostPerBottle = oilCostPerBottle + fixativeCostPerBottle + alcoholCostPerBottle + unitBottleCost;

            // Display results
            document.getElementById('unitOilCost').textContent = `$${unitOilCost.toFixed(4)}`;
            document.getElementById('unitFixativeCost').textContent = `$${unitFixativeCost.toFixed(4)}`;
            document.getElementById('unitAlcoholCost').textContent = `$${unitAlcoholCost.toFixed(4)}`;
            document.getElementById('unitBottleCost').textContent = `$${unitBottleCost.toFixed(2)}`;

            document.getElementById('oilNeeded').textContent = `${oilNeeded.toFixed(2)} ml`;
            document.getElementById('fixativeNeeded').textContent = `${fixativeNeeded.toFixed(2)} ml`;
            document.getElementById('alcoholNeeded').textContent = `${alcoholNeeded.toFixed(2)} ml`;

            document.getElementById('oilCostPerBottle').textContent = `$${oilCostPerBottle.toFixed(2)}`;
            document.getElementById('fixativeCostPerBottle').textContent = `$${fixativeCostPerBottle.toFixed(2)}`;
            document.getElementById('alcoholCostPerBottle').textContent = `$${alcoholCostPerBottle.toFixed(2)}`;

            document.getElementById('totalCostPerBottle').textContent = `$${totalCostPerBottle.toFixed(2)}`;

            document.getElementById('results').classList.remove('hidden');
        }
    </script>
</body>
</html>
